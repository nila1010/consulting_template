---
import type { ImageMetadata } from "astro";
import { Image } from "astro:assets";
import Button from "../Button.astro";

const { imagePath2, imagePath, altText2, altText, headingStyle, headingText } = Astro.props;
const images = import.meta.glob<{ default: ImageMetadata }>("/src/assets/*.{jpeg,jpg,png,gif}");
if (!images[imagePath]) throw new Error(`"${imagePath}" does not exist in glob: "src/assets/*.{jpeg,jpg,png,gif}"`);
if (!images[imagePath2]) throw new Error(`"${imagePath}" does not exist in glob: "src/assets/*.{jpeg,jpg,png,gif}"`);
---

<section class="main-grid">
  <article class="project-overview-grid">
    <Image src={images[imagePath]()} alt={altText} />
    <article>
      <div>
        <div>
          <h3>Case Name</h3>
          <p>Taxes & Efficiency</p>
        </div>
        <div>
          <h3>Category</h3>
          <p>Business</p>
        </div>
        <div>
          <h3>Date</h3>
          <p>27th September 2022</p>
        </div>
      </div>
      <Button text="Live Preview" , buttonStyle="yellow" />
    </article>

    <article class="flow-space">
      <h2>Project Overview</h2>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident.</p>
      <ul>
        <li>It brings the right people together with all the right information and tools to get work done</li>
        <li>We provide operational efficiency, data security, and flexible scale</li>
        <li>Your best work, together in one package that works seamlessly from your computer</li>
        <li>Delivers the tools you need to save time Improve field performance always</li>
      </ul>
      <h2>Storyboard</h2>
      <p>Completely synergize resource taxing relationships via premier niche markets. Professionally cultivate one-to-one customer service with robust ideas. Dynamically innovate resource-leveling customer service for state of the art customer service. Objectively innovate empowered manufactured products whereas parallel platforms. Holistically predominate extensible testing procedures for reliable supply chains.</p>
      <p>Proactively envisioned multimedia based expertise and cross-media growth strategies. Seamlessly visualize quality intellectual capital without superior collaboration and idea-sharing. Holistically pontificate installed base portals after maintainable products completely pursue scalable customer service.</p>
      <Image src={images[imagePath2]()} alt={altText2} />
      <h2>Project result</h2>
      <p>Leverage agile frameworks to provide a robust synopsis for high level overviews. Iterative approaches to corporate strategy foster collaborative thinking to further the overall value proposition. Organically grow the holistic world view of disruptive innovation via workplace diversity and empowerment.</p>
      <p>Bring to the table win-win survival strategies to ensure proactive domination. At the end of the day, going forward, a new normal that has evolved from generation X is on the runway heading towards a streamlined cloud solution. User generated content in real-time will have multiple touchpoints for offshoring.</p>
    </article>
  </article>
</section>

<style>
  section {
  }
  .project-overview-grid {
    display: grid;
    grid-template-columns:
      [full-start] 1fr
      [featured-start] 3fr
      [content-start] minmax(0, 65ch) [content-end]
      3fr[featured-end]
      1fr [full-end];
    > img {
      grid-column: full;
      border-radius: 1.3rem;
    }

    > article:nth-child(2) {
      container: banner / inline-size;
      color: #fff;
      margin-block-start: -5%;
      display: flex;
      justify-content: space-between;
      justify-items: center;
      flex-wrap: wrap;
      grid-column: featured;
      background: var(--secondary-color-1);
      border-radius: 1.3rem;
      padding: 3cqi 3.5cqi;

      > div {
        display: flex;
        gap: 6cqi;

        h3 {
          font-size: var(--font-size-step-2);
          margin-block-end: 0.6rem;
          color: #fff;
        }
      }
    }

    article:last-child {
      margin-block-start: var(--space-2xl);
      grid-column: content;
      place-items: center;
      h2 {
        --space: var(--space-l);
        font-size: var(--font-size-step-4);
        font-weight: var(--font-weight-step-2);
        line-height: var(--lineheight-step-4);
      }
      p {
        --space: var(--space-s);
      }

      ul {
        --space: var(--space-m);
      }

      li {
        margin-top: 1rem;
      }
      img {
        --space: var(--space-m);
        padding: 0 2cqi;
      }
    }
  }

  .full-width-grid {
    grid-area: full;
  }

  @container banner (width < 600px) {
    div {
      background: red;
    }
  }
</style>
